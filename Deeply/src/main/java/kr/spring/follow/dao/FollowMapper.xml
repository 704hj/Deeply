<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.spring.follow.dao.FollowMapper">
	<!-- 내가 팔로우하는 리스트 -->
	<select id="getMyFollow" parameterType="map" resultType="followVO">
		SELECT
  		  *
  		FROM (SELECT
  		        a.*,
  		        rownum rnum
  		      FROM (SELECT
  		              *
  		            FROM follow f
                    JOIN auser a ON f.follow_num=a.user_num 
                    LEFT OUTER JOIN auser_detail ad ON f.follow_num=ad.user_num
  		            WHERE follower_num=#{follower_num} ORDER BY follow_date DESC)a)	
		<![CDATA[
  		WHERE rnum >= #{start} AND rnum <= #{end}
  		]]>
	</select>
</mapper>